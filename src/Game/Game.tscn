[gd_scene load_steps=8 format=3 uid="uid://y1xmuecnyvvv"]

[ext_resource type="Script" path="res://src/Game/Game.gd" id="1_s3wfw"]
[ext_resource type="PackedScene" uid="uid://cerdlyf71wibk" path="res://src/Map/Map.tscn" id="2_wrwk7"]
[ext_resource type="PackedScene" uid="uid://dwiu4cm7rlq0p" path="res://src/HUD/HUD.tscn" id="3_jigyd"]
[ext_resource type="PackedScene" uid="uid://byfrygi5um7b1" path="res://src/HUD/action_ui.tscn" id="4_7vkgy"]
[ext_resource type="PackedScene" uid="uid://c4puk3nu7xkk4" path="res://src/Tool/ToolTemplate.tscn" id="5_7uxle"]
[ext_resource type="Texture2D" uid="uid://ba2hoigmj5w8y" path="res://assets/sprites/trampoline.png" id="6_e5w03"]
[ext_resource type="Texture2D" uid="uid://b4b2rqc1dkvuu" path="res://assets/sprites/portal.png" id="7_cl0uw"]

[node name="Game" type="Node"]
script = ExtResource("1_s3wfw")

[node name="Map" parent="." instance=ExtResource("2_wrwk7")]

[node name="UI" type="CanvasLayer" parent="."]

[node name="HUD" parent="UI" instance=ExtResource("3_jigyd")]

[node name="ActionUI" parent="UI" instance=ExtResource("4_7vkgy")]

[node name="ToolTemplates" type="Node" parent="."]

[node name="Trampoline" parent="ToolTemplates" instance=ExtResource("5_7uxle")]
texture = ExtResource("6_e5w03")
tool_name = "Trampoline"

[node name="Portal" parent="ToolTemplates" instance=ExtResource("5_7uxle")]
texture = ExtResource("7_cl0uw")
tool_name = "Portal"

[connection signal="tool_built" from="Map" to="." method="_on_map_tool_built"]
[connection signal="tool_built" from="Map" to="UI/ActionUI" method="_on_map_tool_built"]
[connection signal="tool_destroyed" from="Map" to="." method="_on_map_tool_destroyed"]
[connection signal="mode_change" from="UI/ActionUI" to="." method="_on_action_ui_mode_change"]
